
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MilkPop Calendar</title>
  <link rel="stylesheet" href="assets/styles.css"/>
</head>
<body>
  <div class="wrapper">
    <div class="nav">
      <div class="brand">
        <div class="logo"></div>
        <h1>MilkPop Calendar</h1>
      </div>
      <div class="row">
        <a class="btn" href="shared_setup.html">共有設定</a>
        <a class="btn" href="share_session.html">共有リンク先</a>
        <a class="btn" href="personal.html">個人スケジュール</a>
      </div>
    </div>

    <div class="grid" style="margin-top:24px">
      <div class="card">
        <h2>ようこそ</h2>
        <p class="small">左のメニューから目的のページに進んでください。</p>
        <ul class="small">
          <li><span class="kbd">共有設定</span>：候補日をカレンダーで選んで共有リンクを発行</li>
          <li><span class="kbd">共有リンク先</span>：発行済みトークンを指定して都合を登録</li>
          <li><span class="kbd">個人スケジュール</span>：自分だけの予定を保存</li>
        </ul>
      </div>
      <div class="card">
        <h2>ヘルスチェック</h2>
        <div id="health" class="small">検査中…</div>
      </div>
    </div>

    <div class="footer">© MilkPop</div>
  </div>
  <script type="module">
    (async ()=>{
      try{
        const r = await fetch('/api/health');
        const j = await r.json();
        const el = document.querySelector('#health');
        el.textContent = j.ok ? `DB OK / ${j.now}` : 'DB未接続';
      }catch{ document.querySelector('#health').textContent = 'ヘルスチェック失敗'; }
    })();
  </script>
</body>
</html>
