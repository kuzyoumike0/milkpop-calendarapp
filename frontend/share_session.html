<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>共有スケジュール | MilkPop</title>
  <link rel="stylesheet" href="assets/app.css" />
</head>
<body>
  <header class="app-header">
    <img src="assets/logo.png" alt="logo" class="logo">
    <h1 id="pageTitle">共有スケジュール</h1>
  </header>

  <main class="container">
    <!-- セッション情報 -->
    <section class="card">
      <h2 id="shareTitle" class="mb8">（タイトル読込中…）</h2>
      <p class="muted">このページでは、共有設定で登録された候補日が一覧表示されます。各日について、あなたの都合を登録してください。</p>
      <div class="row" style="gap:10px; align-items:center; margin-top:10px">
        <div class="input-wrap" style="max-width:320px">
          <span class="input-icon">👤</span>
          <input id="memberName" class="w100 fancy" placeholder="あなたの名前（必須）">
        </div>
        <div class="input-wrap" style="max-width:420px">
          <span class="input-icon">📝</span>
          <input id="memoText" class="w100 fancy" placeholder="メモ（任意）">
        </div>
      </div>
      <div id="status" class="status" style="margin-top:8px"></div>
    </section>

    <!-- 候補日一覧テーブル（allowed_dates） -->
    <section class="card">
      <h3 class="mb8">候補日一覧（選択して登録）</h3>
      <div class="scroll-x">
        <table class="table">
          <thead>
            <tr>
              <th style="min-width:110px">日付</th>
              <th style="min-width:260px">区分</th>
              <th style="min-width:260px">時間指定</th>
              <th style="min-width:100px">選択</th>
            </tr>
          </thead>
          <tbody id="allowedBody">
            <!-- JS で挿入 -->
          </tbody>
        </table>
      </div>
      <div class="row" style="margin-top:10px">
        <button id="registerSelected" class="primary">選択した日程を登録</button>
      </div>
    </section>

    <!-- 登録済みの一覧 -->
    <section class="card">
      <div class="row" style="justify-content:space-between; align-items:center">
        <h3 class="mb8">登録済み一覧</h3>
        <div class="input-wrap" style="max-width:240px">
          <span class="input-icon">🔎</span>
          <input id="filterName" class="w100 fancy" placeholder="名前でフィルタ（任意）">
        </div>
      </div>
      <div id="regsWrap" class="scroll-x">
        <!-- JS でテーブル描画 -->
      </div>
    </section>

  </main>

  <script src="assets/share_session.js"></script>
</body>
</html>
